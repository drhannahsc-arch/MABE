"""
MABE Sprint 40b Overlay: Broad PL Calibration from BindingDB

Adds: 98 per-target offsets + 10 class-level offsets + class pocket descriptors
Source: BindingDB Articles (14,424 Ki/Kd entries)

Performance:
  Known targets: MAE = 1.17
  Unseen targets (class offset): MAE = 1.46-1.51 (cross-validated)

Usage:
  from core.broad_pl_calibration import get_target_offset, annotate_generic_pocket
"""
import base64, pathlib

FILES = {
    "core/broad_pl_calibration.py": "IiIiCmNvcmUvYnJvYWRfcGxfY2FsaWJyYXRpb24ucHkgLS0gU3ByaW50IDQwYjogQnJvYWQgUHJvdGVpbi1MaWdhbmQgQ2FsaWJyYXRpb24KClRyYWluZWQgb24gQmluZGluZ0RCIEFydGljbGVzIHN1YnNldDogMTQsNDI0IGVudHJpZXMgYWNyb3NzIDk4IHRhcmdldHMuCgpNb2RlbDoKICAxLiBQcmVkaWN0IHdpdGggUzM4IHVuaXZlcnNhbCBwYXJhbXMgKyBnZW5lcmljL2NsYXNzIHBvY2tldCBkZXNjcmlwdG9ycwogIDIuIEFwcGx5IHBlci10YXJnZXQgb2Zmc2V0ICg5OCBrbm93biB0YXJnZXRzKSBPUiBjbGFzcyBvZmZzZXQgKDEwIGNsYXNzZXMpCgpQZXJmb3JtYW5jZToKICBLbm93biB0YXJnZXRzIChwZXItdGFyZ2V0IG9mZnNldCk6IE1BRSA9IDEuMTcgbG9nIEsKICBVbnNlZW4gdGFyZ2V0cyAoY2xhc3Mgb2Zmc2V0KTogICAgIE1BRSA9IDEuNDYtMS41MSBsb2cgSyAoY3Jvc3MtdmFsaWRhdGVkKQogIFVuc2VlbiB0YXJnZXRzIChnbG9iYWwgb2Zmc2V0KTogICAgTUFFID0gMS41Mi0xLjY1IGxvZyBLCiIiIgoKaW1wb3J0IHJlCmltcG9ydCBtYXRoCmZyb20gcHJvdGVpbl9wb2NrZXRzIGltcG9ydCBQcm90ZWluUG9ja2V0CgoKIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiMgVEFSR0VUIENMQVNTSUZJQ0FUSU9OCiMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQoKX0NMQVNTX1BBVFRFUk5TID0gewogICAgJ2NhcmJvbmljX2FuaHlkcmFzZSc6IHInW0NjXWFyYm9uaWMgYW5oeWRyYXNlJywKICAgICdzZXJpbmVfcHJvdGVhc2UnOiByJ1tDY11vYWd1bGF0aW9uIGZhY3RvcnxbUHBdcm90aHJvbWJpbnxbVHRdcnlwc2lufFtTc11lcmluZSBwcm90ZWFzZXxbVXVdcm9raW5hc2V8W1BwXWxhc21pbm9nZW4nLAogICAgJ2FzcGFydHlsX3Byb3RlYXNlJzogcidbR2ddYWctUG9sfEhJVi4qcHJvdGVhc2V8W1BwXWxhc21lcHNpbnxbQ2NdYXRoZXBzaW4gRHxbUHBdZXBzaW58W1JyXWVuaW4nLAogICAgJ2N5c3RlaW5lX3Byb3RlYXNlJzogcidbQ2NdYXRoZXBzaW4gW0JGSEtMU1pdfFtQcF1yb2NhdGhlcHNpbnxbQ2NdYXNwYXNlfFtDY11hbHBhaW4nLAogICAgJ21ldGFsbG9wcm90ZWFzZSc6IHInW01tXWV0YWxsb3Byb3RlaW58W0NjXW9sbGFnZW5hc2V8W1NzXXRyb21lbHlzaW58a0RhIHR5cGUgSVYnLAogICAgJ2tpbmFzZSc6IHInW0trXWluYXNlJywKICAgICdncGNyJzogcicoPzpvcGlvaWR8aHlkcm94eXRyeXB0YW1pbmV8W0FhXWRlbm9zaW5lfFtDY11hbm5hYmlub2lkfFtObl1vY2ljZXB0aW58W01tXXVzY2FyaW5pY3xbRGRdb3BhbWluZXxNdS10eXBlfERlbHRhLXR5cGV8S2FwcGEpLipyZWNlcHRvcnxyZWNlcHRvci4qKD86b3Bpb2lkfGh5ZHJveHl0cnlwdGFtaW5lfGFkZW5vc2luZXxjYW5uYWJpbm9pZHxub2NpY2VwdGlufG11c2NhcmluaWN8ZG9wYW1pbmUpJywKICAgICdtZXRhbGxvZW56eW1lJzogcidbQWFdbWluZSBveGlkYXNlfFtBYV1yb21hdGFzZXxbQWFdbWlub3BlcHRpZGFzZScsCiAgICAndmlyYWxfb3RoZXInOiByJ1tScl1lcGxpY2FzZXxbR2ddZW5vbWUgcG9seScsCiAgICAncGhvc3BoYXRhc2UnOiByJ1tQcF1ob3NwaGF0YXNlJywKfQoKCmRlZiBjbGFzc2lmeV90YXJnZXQobmFtZSk6CiAgICAiIiJDbGFzc2lmeSBhIHByb3RlaW4gdGFyZ2V0IGJ5IG5hbWUgaW50byBhIHN0cnVjdHVyYWwgY2xhc3MuIiIiCiAgICBmb3IgY2xzLCBwYXR0ZXJuIGluIF9DTEFTU19QQVRURVJOUy5pdGVtcygpOgogICAgICAgIGlmIHJlLnNlYXJjaChwYXR0ZXJuLCBuYW1lKToKICAgICAgICAgICAgcmV0dXJuIGNscwogICAgcmV0dXJuICdvdGhlcicKCgojID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KIyBDTEFTUy1TUEVDSUZJQyBQT0NLRVQgREVTQ1JJUFRPUlMKIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CgpDTEFTU19QT0NLRVRTID0gewogICAgJ2NhcmJvbmljX2FuaHlkcmFzZSc6IFByb3RlaW5Qb2NrZXQoCiAgICAgICAgbmFtZT0nY2FyYm9uaWNfYW5oeWRyYXNlJywgcG9ja2V0X3ZvbHVtZV9BMz0zMTAsIHBvY2tldF9kZXB0aF9BPTE1LjAsCiAgICAgICAgbl9oYmRfcG9ja2V0PTQsIG5faGJhX3BvY2tldD02LCBuX2Fyb21hdGljX3Jlc2lkdWVzPTMsCiAgICAgICAgaHlkcm9waG9iaWNfZnJhY3Rpb249MC41NSwgbmV0X2NoYXJnZV9wb2NrZXQ9Miwgc2FzYV9idXJpYWxfZnJhY3Rpb249MC43NSksCiAgICAnc2VyaW5lX3Byb3RlYXNlJzogUHJvdGVpblBvY2tldCgKICAgICAgICBuYW1lPSdzZXJpbmVfcHJvdGVhc2UnLCBwb2NrZXRfdm9sdW1lX0EzPTQwMCwgcG9ja2V0X2RlcHRoX0E9MTEuMCwKICAgICAgICBuX2hiZF9wb2NrZXQ9NSwgbl9oYmFfcG9ja2V0PTYsIG5fYXJvbWF0aWNfcmVzaWR1ZXM9MywKICAgICAgICBoeWRyb3Bob2JpY19mcmFjdGlvbj0wLjQ1LCBuZXRfY2hhcmdlX3BvY2tldD0tMSwgc2FzYV9idXJpYWxfZnJhY3Rpb249MC42NSksCiAgICAnYXNwYXJ0eWxfcHJvdGVhc2UnOiBQcm90ZWluUG9ja2V0KAogICAgICAgIG5hbWU9J2FzcGFydHlsX3Byb3RlYXNlJywgcG9ja2V0X3ZvbHVtZV9BMz02MDAsIHBvY2tldF9kZXB0aF9BPTEwLjAsCiAgICAgICAgbl9oYmRfcG9ja2V0PTYsIG5faGJhX3BvY2tldD04LCBuX2Fyb21hdGljX3Jlc2lkdWVzPTQsCiAgICAgICAgaHlkcm9waG9iaWNfZnJhY3Rpb249MC41NSwgbmV0X2NoYXJnZV9wb2NrZXQ9LTIsIHNhc2FfYnVyaWFsX2ZyYWN0aW9uPTAuNzApLAogICAgJ2N5c3RlaW5lX3Byb3RlYXNlJzogUHJvdGVpblBvY2tldCgKICAgICAgICBuYW1lPSdjeXN0ZWluZV9wcm90ZWFzZScsIHBvY2tldF92b2x1bWVfQTM9MzgwLCBwb2NrZXRfZGVwdGhfQT0xMi4wLAogICAgICAgIG5faGJkX3BvY2tldD00LCBuX2hiYV9wb2NrZXQ9NSwgbl9hcm9tYXRpY19yZXNpZHVlcz0yLAogICAgICAgIGh5ZHJvcGhvYmljX2ZyYWN0aW9uPTAuNTAsIG5ldF9jaGFyZ2VfcG9ja2V0PS0xLCBzYXNhX2J1cmlhbF9mcmFjdGlvbj0wLjY1KSwKICAgICdtZXRhbGxvcHJvdGVhc2UnOiBQcm90ZWluUG9ja2V0KAogICAgICAgIG5hbWU9J21ldGFsbG9wcm90ZWFzZScsIHBvY2tldF92b2x1bWVfQTM9NDUwLCBwb2NrZXRfZGVwdGhfQT0xMC4wLAogICAgICAgIG5faGJkX3BvY2tldD00LCBuX2hiYV9wb2NrZXQ9Niwgbl9hcm9tYXRpY19yZXNpZHVlcz0zLAogICAgICAgIGh5ZHJvcGhvYmljX2ZyYWN0aW9uPTAuNTAsIG5ldF9jaGFyZ2VfcG9ja2V0PTEsIHNhc2FfYnVyaWFsX2ZyYWN0aW9uPTAuNjApLAogICAgJ2tpbmFzZSc6IFByb3RlaW5Qb2NrZXQoCiAgICAgICAgbmFtZT0na2luYXNlJywgcG9ja2V0X3ZvbHVtZV9BMz01MDAsIHBvY2tldF9kZXB0aF9BPTEyLjAsCiAgICAgICAgbl9oYmRfcG9ja2V0PTUsIG5faGJhX3BvY2tldD03LCBuX2Fyb21hdGljX3Jlc2lkdWVzPTQsCiAgICAgICAgaHlkcm9waG9iaWNfZnJhY3Rpb249MC41NSwgbmV0X2NoYXJnZV9wb2NrZXQ9MCwgc2FzYV9idXJpYWxfZnJhY3Rpb249MC43MCksCiAgICAnZ3Bjcic6IFByb3RlaW5Qb2NrZXQoCiAgICAgICAgbmFtZT0nZ3BjcicsIHBvY2tldF92b2x1bWVfQTM9MzUwLCBwb2NrZXRfZGVwdGhfQT0xNC4wLAogICAgICAgIG5faGJkX3BvY2tldD0zLCBuX2hiYV9wb2NrZXQ9NSwgbl9hcm9tYXRpY19yZXNpZHVlcz01LAogICAgICAgIGh5ZHJvcGhvYmljX2ZyYWN0aW9uPTAuNjUsIG5ldF9jaGFyZ2VfcG9ja2V0PTAsIHNhc2FfYnVyaWFsX2ZyYWN0aW9uPTAuODApLAogICAgJ21ldGFsbG9lbnp5bWUnOiBQcm90ZWluUG9ja2V0KAogICAgICAgIG5hbWU9J21ldGFsbG9lbnp5bWUnLCBwb2NrZXRfdm9sdW1lX0EzPTQwMCwgcG9ja2V0X2RlcHRoX0E9MTEuMCwKICAgICAgICBuX2hiZF9wb2NrZXQ9NCwgbl9oYmFfcG9ja2V0PTYsIG5fYXJvbWF0aWNfcmVzaWR1ZXM9MywKICAgICAgICBoeWRyb3Bob2JpY19mcmFjdGlvbj0wLjUwLCBuZXRfY2hhcmdlX3BvY2tldD0xLCBzYXNhX2J1cmlhbF9mcmFjdGlvbj0wLjY1KSwKICAgICd2aXJhbF9vdGhlcic6IFByb3RlaW5Qb2NrZXQoCiAgICAgICAgbmFtZT0ndmlyYWxfb3RoZXInLCBwb2NrZXRfdm9sdW1lX0EzPTQ1MCwgcG9ja2V0X2RlcHRoX0E9MTEuMCwKICAgICAgICBuX2hiZF9wb2NrZXQ9NSwgbl9oYmFfcG9ja2V0PTcsIG5fYXJvbWF0aWNfcmVzaWR1ZXM9MywKICAgICAgICBoeWRyb3Bob2JpY19mcmFjdGlvbj0wLjUwLCBuZXRfY2hhcmdlX3BvY2tldD0wLCBzYXNhX2J1cmlhbF9mcmFjdGlvbj0wLjY1KSwKICAgICdwaG9zcGhhdGFzZSc6IFByb3RlaW5Qb2NrZXQoCiAgICAgICAgbmFtZT0ncGhvc3BoYXRhc2UnLCBwb2NrZXRfdm9sdW1lX0EzPTM4MCwgcG9ja2V0X2RlcHRoX0E9MTEuMCwKICAgICAgICBuX2hiZF9wb2NrZXQ9NCwgbl9oYmFfcG9ja2V0PTYsIG5fYXJvbWF0aWNfcmVzaWR1ZXM9MiwKICAgICAgICBoeWRyb3Bob2JpY19mcmFjdGlvbj0wLjQ1LCBuZXRfY2hhcmdlX3BvY2tldD0xLCBzYXNhX2J1cmlhbF9mcmFjdGlvbj0wLjY1KSwKfQoKREVGQVVMVF9QT0NLRVQgPSBQcm90ZWluUG9ja2V0KAogICAgbmFtZT0nZGVmYXVsdCcsIHBvY2tldF92b2x1bWVfQTM9NDAwLCBwb2NrZXRfZGVwdGhfQT0xMS4wLAogICAgbl9oYmRfcG9ja2V0PTQsIG5faGJhX3BvY2tldD02LCBuX2Fyb21hdGljX3Jlc2lkdWVzPTMsCiAgICBoeWRyb3Bob2JpY19mcmFjdGlvbj0wLjUwLCBuZXRfY2hhcmdlX3BvY2tldD0wLCBzYXNhX2J1cmlhbF9mcmFjdGlvbj0wLjY1KQoKCmRlZiBnZXRfY2xhc3NfcG9ja2V0KHRhcmdldF9uYW1lKToKICAgICIiIlJldHVybiBhcHByb3ByaWF0ZSBQcm90ZWluUG9ja2V0IGZvciBhIHRhcmdldCBuYW1lLiIiIgogICAgY2xzID0gY2xhc3NpZnlfdGFyZ2V0KHRhcmdldF9uYW1lKQogICAgcmV0dXJuIENMQVNTX1BPQ0tFVFMuZ2V0KGNscywgREVGQVVMVF9QT0NLRVQpCgoKIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiMgUEVSLVRBUkdFVCBPRkZTRVRTICg5OCB0YXJnZXRzIGZyb20gQkRCIEFydGljbGVzKQojID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KCkJEQl9UQVJHRVRfT0ZGU0VUUyA9IHsKICAgICIxMS1iZXRhLWh5ZHJveHlzdGVyb2lkIGRlaHlkcm9nZW5hc2UgMSI6ICsxLjE3LAogICAgIjUtaHlkcm94eXRyeXB0YW1pbmUgcmVjZXB0b3IgMUEiOiArMC45NCwKICAgICI1LWh5ZHJveHl0cnlwdGFtaW5lIHJlY2VwdG9yIDJBIjogLTAuNzEsCiAgICAiNS1oeWRyb3h5dHJ5cHRhbWluZSByZWNlcHRvciA2IjogKzEuNzUsCiAgICAiNS1oeWRyb3h5dHJ5cHRhbWluZSByZWNlcHRvciA3IjogKzAuNjksCiAgICAiNzIga0RhIHR5cGUgSVYgY29sbGFnZW5hc2UiOiArMS42MiwKICAgICJBY2V0eWxjaG9saW5lc3RlcmFzZSI6ICsxLjYxLAogICAgIkFkZW5vc2luZSByZWNlcHRvciBBMSI6ICsxLjI2LAogICAgIkFkZW5vc2luZSByZWNlcHRvciBBMmEiOiArMS44NywKICAgICJBbWluZSBveGlkYXNlIFtmbGF2aW4tY29udGFpbmluZ10gQSI6ICsyLjc2LAogICAgIkFtaW5lIG94aWRhc2UgW2ZsYXZpbi1jb250YWluaW5nXSBCIjogKzIuMjcsCiAgICAiQW5kcm9nZW4gcmVjZXB0b3IiOiArMS45NCwKICAgICJBcm9tYXRhc2UiOiArMi4zOSwKICAgICJBdXJvcmEga2luYXNlIEEiOiArMS43NCwKICAgICJCZXRhLWNhcmJvbmljIGFuaHlkcmFzZSAxIjogLTMuMjYsCiAgICAiQ2FubmFiaW5vaWQgcmVjZXB0b3IgMSI6ICswLjY3LAogICAgIkNhbm5hYmlub2lkIHJlY2VwdG9yIDIiOiArMC41NiwKICAgICJDYXJib25pYyBhbmh5ZHJhc2UiOiArMS43OSwKICAgICJDYXJib25pYyBhbmh5ZHJhc2UgMSI6IC0wLjYzLAogICAgIkNhcmJvbmljIGFuaHlkcmFzZSAxMiI6IC0wLjMxLAogICAgIkNhcmJvbmljIGFuaHlkcmFzZSAxMyI6IC0xLjAxLAogICAgIkNhcmJvbmljIGFuaHlkcmFzZSAxNCI6ICswLjA3LAogICAgIkNhcmJvbmljIGFuaHlkcmFzZSAyIjogKzAuMzIsCiAgICAiQ2FyYm9uaWMgYW5oeWRyYXNlIDQiOiAtMC4wNiwKICAgICJDYXJib25pYyBhbmh5ZHJhc2UgNUEsIG1pdG9jaG9uZHJpYWwiOiAtMC4yOCwKICAgICJDYXJib25pYyBhbmh5ZHJhc2UgNUIsIG1pdG9jaG9uZHJpYWwiOiArMi42MSwKICAgICJDYXJib25pYyBhbmh5ZHJhc2UgNiI6IC0wLjQwLAogICAgIkNhcmJvbmljIGFuaHlkcmFzZSA3IjogKzIuMjAsCiAgICAiQ2FyYm9uaWMgYW5oeWRyYXNlIDkiOiArMC4yNiwKICAgICJDYXRoZXBzaW4gQiI6ICswLjQyLAogICAgIkNhdGhlcHNpbiBEIjogKzAuNjcsCiAgICAiQ2F0aGVwc2luIEgiOiAtMC40OSwKICAgICJDYXRoZXBzaW4gSyI6IC0wLjIwLAogICAgIkNhdGhlcHNpbiBTIjogKzAuMzAsCiAgICAiQ2hvbGluZXN0ZXJhc2UiOiArMS41OCwKICAgICJDb2FndWxhdGlvbiBmYWN0b3IgVklJIjogLTAuMzMsCiAgICAiQ29hZ3VsYXRpb24gZmFjdG9yIFgiOiArMC42MiwKICAgICJDb2xsYWdlbmFzZSBDb2xHIjogKzAuOTcsCiAgICAiQ3ljbGluLUEyL0N5Y2xpbi1kZXBlbmRlbnQga2luYXNlIDIiOiArMC4zNCwKICAgICJDeWNsaW4tZGVwZW5kZW50IGtpbmFzZSAyL0cxL1Mtc3BlY2lmaWMgY3ljbGluLUUxIjogLTAuMzYsCiAgICAiQ3ljbGluLWRlcGVuZGVudCBraW5hc2UgNC9HMS9TLXNwZWNpZmljIGN5Y2xpbi1EMSI6IC0wLjEzLAogICAgIkROQSBsaWdhc2UgMSI6ICsxLjIwLAogICAgIkRlbHRhLXR5cGUgb3Bpb2lkIHJlY2VwdG9yIjogLTEuNTUsCiAgICAiRGltZXIgb2YgR2FnLVBvbCBwb2x5cHJvdGVpbiBbNDg5LTU4N10iOiArMC40MywKICAgICJEaW1lciBvZiBHYWctUG9sIHBvbHlwcm90ZWluIFs0OTEtNTg5LFE0OTZLXSI6ICsxLjk2LAogICAgIkRpbWVyIG9mIEdhZy1Qb2wgcG9seXByb3RlaW4gWzUwMS01OTksUTUwOEssTDUzNEksTDU2NEksQzU2OCI6ICsxLjY1LAogICAgIkRpbWVyIG9mIEdhZy1Qb2wgcG9seXByb3RlaW4gWzUwMS01OTldIjogKzAuNTEsCiAgICAiRGlwZXB0aWR5bCBwZXB0aWRhc2UgNCI6ICsyLjA2LAogICAgIkUzIHViaXF1aXRpbi1wcm90ZWluIGxpZ2FzZSBYSUFQIFsyNDEtMzU2XSI6IC0wLjU4LAogICAgIkZpYnJvYmxhc3QgZ3Jvd3RoIGZhY3RvciByZWNlcHRvciAxIjogKzAuNTAsCiAgICAiR2FnLVBvbCBwb2x5cHJvdGVpbiBbNDg5LTU4N10iOiArMi44NiwKICAgICJHZW5vbWUgcG9seXByb3RlaW4iOiArMC41NSwKICAgICJHbHljb2dlbiBzeW50aGFzZSBraW5hc2UtMyBiZXRhIjogKzAuNDQsCiAgICAiSElWLTEgcHJvdGVhc2UiOiArMS4xMywKICAgICJJbnRlcnN0aXRpYWwgY29sbGFnZW5hc2UiOiArMC42OCwKICAgICJLYXBwYS10eXBlIG9waW9pZCByZWNlcHRvciI6ICswLjE3LAogICAgIkxpdmVyIGNhcmJveHlsZXN0ZXJhc2UgMSI6ICsxLjgzLAogICAgIk1BUCBraW5hc2UtaW50ZXJhY3Rpbmcgc2VyaW5lL3RocmVvbmluZS1wcm90ZWluIGtpbmFzZSAxIjogKzAuNDgsCiAgICAiTWF0cml4IG1ldGFsbG9wcm90ZWluYXNlLTkiOiArMS40NSwKICAgICJNZXRoaW9uaW5lIGFtaW5vcGVwdGlkYXNlIDIiOiArMy41MCwKICAgICJNaXRvZ2VuLWFjdGl2YXRlZCBwcm90ZWluIGtpbmFzZSAxNCI6ICswLjI1LAogICAgIk11LXR5cGUgb3Bpb2lkIHJlY2VwdG9yIjogLTEuMDgsCiAgICAiTXVzY2FyaW5pYyBhY2V0eWxjaG9saW5lIHJlY2VwdG9yIE0xIjogLTAuNDAsCiAgICAiTXVzY2FyaW5pYyBhY2V0eWxjaG9saW5lIHJlY2VwdG9yIE0yIjogLTAuNDIsCiAgICAiTXVzY2FyaW5pYyBhY2V0eWxjaG9saW5lIHJlY2VwdG9yIE0zIjogKzAuMzAsCiAgICAiTkVERDgtYWN0aXZhdGluZyBlbnp5bWUgRTEgcmVndWxhdG9yeSBzdWJ1bml0IjogKzIuNDYsCiAgICAiTmV1dHJvcGhpbCBjb2xsYWdlbmFzZSI6ICsxLjQyLAogICAgIk5vY2ljZXB0aW4gcmVjZXB0b3IiOiArMC4zMywKICAgICJQZXB0aWR5bC1wcm9seWwgY2lzLXRyYW5zIGlzb21lcmFzZSBGS0JQMUEiOiAtMC4zMiwKICAgICJQbGFzbWVwc2luIElJIjogLTAuOTYsCiAgICAiUGxhc21pbm9nZW4iOiAtMC4zMCwKICAgICJQcm9jYXRoZXBzaW4gTCI6IC0wLjI5LAogICAgIlByb3N0YWdsYW5kaW4gRy9IIHN5bnRoYXNlIDIiOiArMC4wOCwKICAgICJQcm90by1vbmNvZ2VuZSB0eXJvc2luZS1wcm90ZWluIGtpbmFzZSBTcmMiOiArMC40MiwKICAgICJQcm90aHJvbWJpbiI6IC0xLjE0LAogICAgIlJlcGxpY2FzZSBwb2x5cHJvdGVpbiAxYWIiOiAtMC44MCwKICAgICJTZXJpbmUgcHJvdGVhc2UgMSI6ICswLjYzLAogICAgIlNlcmluZS90aHJlb25pbmUtcHJvdGVpbiBraW5hc2UgcGltLTEiOiArMC4xMCwKICAgICJTdHJvbWVseXNpbi0xIjogKzEuMDEsCiAgICAiVHlyb3NpbmUtcHJvdGVpbiBwaG9zcGhhdGFzZSBub24tcmVjZXB0b3IgdHlwZSAxIFsxLTIiOiAtMC41MywKICAgICJVcm9raW5hc2UtdHlwZSBwbGFzbWlub2dlbiBhY3RpdmF0b3IiOiArMC42NiwKfQoKIyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiMgQ0xBU1MtTEVWRUwgT0ZGU0VUUyAoZm9yIHVuc2VlbiB0YXJnZXRzKQojID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KCkNMQVNTX09GRlNFVFMgPSB7CiAgICAnY2FyYm9uaWNfYW5oeWRyYXNlJzogKzAuMzUsCiAgICAnc2VyaW5lX3Byb3RlYXNlJzogKzAuMTEsCiAgICAnYXNwYXJ0eWxfcHJvdGVhc2UnOiAtMS4wNywKICAgICdjeXN0ZWluZV9wcm90ZWFzZSc6ICswLjQ2LAogICAgJ21ldGFsbG9wcm90ZWFzZSc6ICsxLjM5LAogICAgJ2tpbmFzZSc6ICswLjczLAogICAgJ2dwY3InOiArMC45NCwKICAgICdtZXRhbGxvZW56eW1lJzogKzIuNTUsCiAgICAndmlyYWxfb3RoZXInOiAtMC4xOSwKICAgICdwaG9zcGhhdGFzZSc6IC0wLjUzLAogICAgJ290aGVyJzogKzAuOTQsCn0KCkdMT0JBTF9PRkZTRVQgPSArMC44NyAgIyBtZWRpYW4gYWNyb3NzIGFsbCB0YXJnZXRzCgoKZGVmIGdldF90YXJnZXRfb2Zmc2V0KHRhcmdldF9uYW1lKToKICAgICIiIlJldHVybiB0aGUgYmVzdCBhdmFpbGFibGUgb2Zmc2V0IGZvciBhIHRhcmdldC4KCiAgICBQcmlvcml0eTogZXhhY3QgbWF0Y2ggPiBzdGFydHN3aXRoIG1hdGNoID4gY2xhc3MgPiBnbG9iYWwKICAgICIiIgogICAgIyBFeGFjdCBtYXRjaCBmaXJzdAogICAgaWYgdGFyZ2V0X25hbWUgaW4gQkRCX1RBUkdFVF9PRkZTRVRTOgogICAgICAgIHJldHVybiBCREJfVEFSR0VUX09GRlNFVFNbdGFyZ2V0X25hbWVdCgogICAgIyBTdGFydHN3aXRoIG1hdGNoIChsb25nZXN0IHByZWZpeCB3aW5zKQogICAgYmVzdF9tYXRjaCA9IE5vbmUKICAgIGJlc3RfbGVuID0gMAogICAgZm9yIGtub3duLCBvZmZzZXQgaW4gQkRCX1RBUkdFVF9PRkZTRVRTLml0ZW1zKCk6CiAgICAgICAgaWYgdGFyZ2V0X25hbWUuc3RhcnRzd2l0aChrbm93bikgYW5kIGxlbihrbm93bikgPiBiZXN0X2xlbjoKICAgICAgICAgICAgYmVzdF9tYXRjaCA9IG9mZnNldAogICAgICAgICAgICBiZXN0X2xlbiA9IGxlbihrbm93bikKICAgIGlmIGJlc3RfbWF0Y2ggaXMgbm90IE5vbmU6CiAgICAgICAgcmV0dXJuIGJlc3RfbWF0Y2gKCiAgICAjIENsYXNzIG1hdGNoCiAgICBjbHMgPSBjbGFzc2lmeV90YXJnZXQodGFyZ2V0X25hbWUpCiAgICBpZiBjbHMgaW4gQ0xBU1NfT0ZGU0VUUzoKICAgICAgICByZXR1cm4gQ0xBU1NfT0ZGU0VUU1tjbHNdCgogICAgcmV0dXJuIEdMT0JBTF9PRkZTRVQKCgpkZWYgYW5ub3RhdGVfZ2VuZXJpY19wb2NrZXQodWMsIHBvY2tldD1Ob25lKToKICAgICIiIkFwcGx5IGdlbmVyaWMgcG9ja2V0IGRlc2NyaXB0b3JzIHRvIGEgVW5pdmVyc2FsQ29tcGxleC4KCiAgICBVc2Ugd2hlbiB0aGUgdGFyZ2V0IGRvZXNuJ3QgaGF2ZSBhIHNwZWNpZmljIFByb3RlaW5Qb2NrZXQgaW4gUFJPVEVJTl9QT0NLRVRTLgogICAgIiIiCiAgICBpZiBwb2NrZXQgaXMgTm9uZToKICAgICAgICBwb2NrZXQgPSBnZXRfY2xhc3NfcG9ja2V0KHVjLmhvc3RfbmFtZSkKCiAgICB1Yy5jYXZpdHlfdm9sdW1lX0EzID0gcG9ja2V0LnBvY2tldF92b2x1bWVfQTMKICAgIHJfQSA9ICgzICogcG9ja2V0LnBvY2tldF92b2x1bWVfQTMgLyAoNCAqIG1hdGgucGkpKSAqKiAoMS8zKQogICAgdWMuY2F2aXR5X3JhZGl1c19ubSA9IHJfQSAvIDEwLjAKICAgIHVjLm5faGJvbmRfZG9ub3JzX2hvc3QgPSBwb2NrZXQubl9oYmRfcG9ja2V0CiAgICB1Yy5uX2hib25kX2FjY2VwdG9yc19ob3N0ID0gcG9ja2V0Lm5faGJhX3BvY2tldAoKICAgIGlmIHVjLmd1ZXN0X3ZvbHVtZV9BMyA+IDA6CiAgICAgICAgdWMucGFja2luZ19jb2VmZmljaWVudCA9ICgKICAgICAgICAgICAgdWMuZ3Vlc3Rfdm9sdW1lX0EzICogcG9ja2V0LnNhc2FfYnVyaWFsX2ZyYWN0aW9uCiAgICAgICAgKSAvIHBvY2tldC5wb2NrZXRfdm9sdW1lX0EzCgogICAgaGJfZCA9IG1pbih1Yy5ndWVzdF9uX2hib25kX2Rvbm9ycywgcG9ja2V0Lm5faGJhX3BvY2tldCkKICAgIGhiX2EgPSBtaW4odWMuZ3Vlc3Rfbl9oYm9uZF9hY2NlcHRvcnMsIHBvY2tldC5uX2hiZF9wb2NrZXQpCiAgICBuX2hiID0gbWF4KDEsIGludChyb3VuZCgoaGJfZCArIGhiX2EpICogMC40MCkpKQogICAgdWMubl9oYm9uZHNfZm9ybWVkID0gbl9oYgogICAgdWMuaGJvbmRfdHlwZXMgPSBbJ25ldXRyYWwnXSAqIG5faGIKCiAgICBpZiB1Yy5ndWVzdF9zYXNhX25vbnBvbGFyX0EyID4gMDoKICAgICAgICB1Yy5zYXNhX2J1cmllZF9BMiA9IHJvdW5kKAogICAgICAgICAgICB1Yy5ndWVzdF9zYXNhX25vbnBvbGFyX0EyICogcG9ja2V0LnNhc2FfYnVyaWFsX2ZyYWN0aW9uLCAxKQoKICAgIHJldHVybiB1Ywo=",
}

for path, b64 in FILES.items():
    pathlib.Path(path).parent.mkdir(parents=True, exist_ok=True)
    content = base64.b64decode(b64).decode("utf-8")
    with open(path, "w", encoding="utf-8") as f:
        f.write(content)
    print(f"  Updated: {path}")
print("Sprint 40b overlay applied.")